!function(){function s(){return e.val()?i.val()?(t={},t.username=e.val(),t.password=i.val(),void O(location.pathname,t,"log")):(a.find("p").text("请输入密码！"),a.addClass("input-tip").css(z),!1):(n.find("p").text("请输入用户名！"),n.addClass("input-tip").css(z),!1)}var t,e=$("#username"),i=$("#password"),a=$(".password-tip"),n=$(".username-tip"),c=$(".reg_name-tip"),p=$(".reg_email-tip"),o=$(".reg_pass-tip"),r=$(".reg_repeat-tip"),l=$("#reg_username"),u=$("#reg_email"),d=$("#reg_password"),f=$("#reg_password-repeat"),m=$(".btn-login"),g=$(".btn-reg"),v=$(".reset-password"),x=$(".show-reg"),C=$("#login"),y=$(".reg"),_=$(".reset"),w=$(".return-log"),h={left:"220px",opacity:0},z={left:"224px",opacity:1},k={"margin-left":"-260px"},T={"margin-left":"10px"},b={"margin-left":"-110px"},P={left:"260px",opacity:1,"z-index":220},j={left:"220px",opacity:0,"z-index":-200},E={right:"260px",opacity:1,"z-index":220},N={right:"240px",opacity:0,"z-index":240},O=function(s,t,e){$.ajax({type:"POST",url:s,data:t,success:function(s){"log"===e?1===s.type?(n.find("p").text(s.mes),n.removeClass("input-tip"),n.css(z)):2===s.type?(a.find("p").text(s.mes),a.removeClass("input-tip"),a.css(z)):location.href="/":0===s.type?location.href="/":1===s.type?(c.find("p").text(s.mes),c.removeClass("input-tip").css(z)):3===s.type&&(p.find("p").text(s.mes),p.removeClass("input-tip").css(z))}})};e.focus(function(){n.css(h)}),i.focus(function(){a.css(h)}),l.focus(function(){c.css(h)}),d.focus(function(){o.css(h)}),f.focus(function(){r.css(h)}),u.focus(function(){p.css(h)}),m.click(s),v.click(function(){n.css(h),a.css(h),C.addClass("matte").css(T),setTimeout(function(){_.css(E)},200)}),x.click(function(){n.css(h),a.css(h),C.addClass("matte").css(k),setTimeout(function(){y.css(P)},200)}),w.click(function(){c.css(h),o.css(h),r.css(h),p.css(h),y.css(j),_.css(N),setTimeout(function(){C.removeClass("matte").css(b)},200)}),g.click(function(){if(!l.val())return c.find("p").text("请输入用户名！"),c.addClass("input-tip").css(z),!1;var s=/`|~|!|@|#|\$|%|\^|\*|\(|\-|\)|\+|_|=|\/|\||\\|。|，|》|《|>|<|！/;return s.test(l.val())?(c.find("p").text("包含非法字符。可以包含英文字母，数字，和三个符号 - . _"),c.addClass("input-tip").css(z),!1):l.val().length>20?(c.find("p").text("20个字符内"),c.addClass("input-tip").css(z),!1):d.val()?d.val()!=f.val()?(r.addClass("input-tip").css(z),!1):u.val()&&!/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/.test(u.val())?(p.css(z),!1):(t={},t.regUserName=l.val(),t.regPassword=d.val(),t.regEmail=u.val(),void O("/reg",t,"reg")):(o.addClass("input-tip").css(z),!1)})}();